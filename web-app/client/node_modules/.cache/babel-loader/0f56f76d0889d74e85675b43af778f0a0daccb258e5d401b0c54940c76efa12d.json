{"ast":null,"code":"var _jsxFileName = \"/Users/jasonglaspey/Coding/Lost Valley - Image Management/web-app/client/src/components/ImageCard.tsx\";\nimport { Download } from 'lucide-react';\nimport { Button } from './ui/button';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function ImageCard({\n  image,\n  onClick\n}) {\n  const handleDownload = e => {\n    e.stopPropagation(); // Prevent card onClick from firing\n    const downloadUrl = `/api/download/${image.drive_file_id}`;\n\n    // Create a hidden link and trigger download\n    const link = document.createElement('a');\n    link.href = downloadUrl;\n    link.download = image.filename;\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n  };\n  const getScoreColor = score => {\n    if (score >= 4) return 'text-green-600 font-medium';\n    if (score >= 3) return 'text-yellow-600';\n    return 'text-red-600';\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"group hover:shadow-lg transition-all duration-200 cursor-pointer bg-white rounded-lg border overflow-hidden\",\n    onClick: onClick,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: image.thumbnail_path || `/api/thumbnails/${image.drive_file_id}?size=300x400`,\n        alt: image.primary_subject,\n        className: \"w-full h-32 object-contain bg-gray-50\",\n        onError: e => {\n          var _target$nextElementSi;\n          const target = e.target;\n          target.style.display = 'none';\n          (_target$nextElementSi = target.nextElementSibling) === null || _target$nextElementSi === void 0 ? void 0 : _target$nextElementSi.classList.remove('hidden');\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"hidden w-full h-32 bg-gray-200 flex items-center justify-center\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center text-gray-500 text-xs\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"Image unavailable\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"ghost\",\n        size: \"sm\",\n        onClick: handleDownload,\n        className: \"absolute top-1 right-1 h-6 w-6 p-0 bg-white/80 hover:bg-white opacity-0 group-hover:opacity-100 transition-opacity\",\n        title: \"Download original file\",\n        children: /*#__PURE__*/_jsxDEV(Download, {\n          className: \"w-3 h-3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-2 space-y-1\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-xs font-medium truncate\",\n        title: image.filename,\n        children: image.filename\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-xs text-gray-500 truncate\",\n        title: image.file_path,\n        children: image.file_path\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center text-xs\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: `${getScoreColor(image.visual_quality)}`,\n            children: [\"VQ: \", image.visual_quality, \"/5\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: `${getScoreColor(image.social_media_score)}`,\n            children: [\"SM: \", image.social_media_score, \"/5\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: `${getScoreColor(image.marketing_score)}`,\n            children: [\"MK: \", image.marketing_score, \"/5\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 5\n  }, this);\n}\n_c = ImageCard;\nvar _c;\n$RefreshReg$(_c, \"ImageCard\");","map":{"version":3,"names":["Download","Button","jsxDEV","_jsxDEV","ImageCard","image","onClick","handleDownload","e","stopPropagation","downloadUrl","drive_file_id","link","document","createElement","href","download","filename","body","appendChild","click","removeChild","getScoreColor","score","className","children","src","thumbnail_path","alt","primary_subject","onError","_target$nextElementSi","target","style","display","nextElementSibling","classList","remove","fileName","_jsxFileName","lineNumber","columnNumber","variant","size","title","file_path","visual_quality","social_media_score","marketing_score","_c","$RefreshReg$"],"sources":["/Users/jasonglaspey/Coding/Lost Valley - Image Management/web-app/client/src/components/ImageCard.tsx"],"sourcesContent":["import { Download } from 'lucide-react';\nimport { Card, CardContent } from './ui/card';\nimport { Button } from './ui/button';\nimport { ProcessedImage } from '../types/image';\n\ninterface ImageCardProps {\n  image: ProcessedImage;\n  onClick: () => void;\n}\n\nexport function ImageCard({ image, onClick }: ImageCardProps) {\n  const handleDownload = (e: React.MouseEvent) => {\n    e.stopPropagation(); // Prevent card onClick from firing\n    const downloadUrl = `/api/download/${image.drive_file_id}`;\n    \n    // Create a hidden link and trigger download\n    const link = document.createElement('a');\n    link.href = downloadUrl;\n    link.download = image.filename;\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n  };\n\n  const getScoreColor = (score: number) => {\n    if (score >= 4) return 'text-green-600 font-medium';\n    if (score >= 3) return 'text-yellow-600';\n    return 'text-red-600';\n  };\n\n  return (\n    <div className=\"group hover:shadow-lg transition-all duration-200 cursor-pointer bg-white rounded-lg border overflow-hidden\" onClick={onClick}>\n      <div className=\"relative\">\n        <img\n          src={image.thumbnail_path || `/api/thumbnails/${image.drive_file_id}?size=300x400`}\n          alt={image.primary_subject}\n          className=\"w-full h-32 object-contain bg-gray-50\"\n          onError={(e) => {\n            const target = e.target as HTMLImageElement;\n            target.style.display = 'none';\n            target.nextElementSibling?.classList.remove('hidden');\n          }}\n        />\n        <div className=\"hidden w-full h-32 bg-gray-200 flex items-center justify-center\">\n          <div className=\"text-center text-gray-500 text-xs\">\n            <div>Image unavailable</div>\n          </div>\n        </div>\n        <Button\n          variant=\"ghost\"\n          size=\"sm\"\n          onClick={handleDownload}\n          className=\"absolute top-1 right-1 h-6 w-6 p-0 bg-white/80 hover:bg-white opacity-0 group-hover:opacity-100 transition-opacity\"\n          title=\"Download original file\"\n        >\n          <Download className=\"w-3 h-3\" />\n        </Button>\n      </div>\n      \n      <div className=\"p-2 space-y-1\">\n        <div className=\"text-xs font-medium truncate\" title={image.filename}>\n          {image.filename}\n        </div>\n        <div className=\"text-xs text-gray-500 truncate\" title={image.file_path}>\n          {image.file_path}\n        </div>\n        <div className=\"flex justify-between items-center text-xs\">\n          <div className=\"flex gap-2\">\n            <span className={`${getScoreColor(image.visual_quality)}`}>\n              VQ: {image.visual_quality}/5\n            </span>\n            <span className={`${getScoreColor(image.social_media_score)}`}>\n              SM: {image.social_media_score}/5\n            </span>\n            <span className={`${getScoreColor(image.marketing_score)}`}>\n              MK: {image.marketing_score}/5\n            </span>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}