{"ast":null,"code":"var _jsxFileName = \"/Users/jasonglaspey/Coding/Lost Valley - Image Management/web-app/client/src/App.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useMemo } from 'react';\nimport { QueryClient, QueryClientProvider, useQuery } from '@tanstack/react-query';\nimport { Toaster } from 'sonner';\nimport { SearchHeader } from './components/SearchHeader';\nimport { FilterPanel } from './components/FilterPanel';\nimport { ImageCard } from './components/ImageCard';\nimport { ImageDetailModal } from './components/ImageDetailModal';\nimport { imageApi } from './api/client';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      staleTime: 5 * 60 * 1000,\n      // 5 minutes\n      gcTime: 10 * 60 * 1000,\n      // 10 minutes\n      retry: 1,\n      refetchOnWindowFocus: false\n    }\n  }\n});\nconst initialFilters = {\n  query: '',\n  visualQuality: [1, 5],\n  hasPeople: undefined,\n  peopleCount: [],\n  isIndoor: undefined,\n  activityTags: [],\n  season: [],\n  timeOfDay: [],\n  socialMediaScore: [1, 5],\n  marketingScore: [1, 5]\n};\nfunction ImageApp() {\n  _s();\n  const [filters, setFilters] = useState(initialFilters);\n  const [isFiltersOpen, setIsFiltersOpen] = useState(false);\n  const [viewMode, setViewMode] = useState('grid');\n  const [selectedImage, setSelectedImage] = useState(null);\n  const [page, setPage] = useState(1);\n\n  // Check if we're using search or just listing\n  const hasActiveFilters = useMemo(() => {\n    return filters.query !== '' || filters.visualQuality[0] > 1 || filters.visualQuality[1] < 5 || filters.hasPeople !== undefined || filters.peopleCount.length > 0 || filters.isIndoor !== undefined || filters.activityTags.length > 0 || filters.season.length > 0 || filters.timeOfDay.length > 0 || filters.socialMediaScore[0] > 1 || filters.socialMediaScore[1] < 5 || filters.marketingScore[0] > 1 || filters.marketingScore[1] < 5;\n  }, [filters]);\n\n  // Query for images\n  const {\n    data,\n    isLoading,\n    error\n  } = useQuery({\n    queryKey: ['images', filters, page, hasActiveFilters],\n    queryFn: async () => {\n      if (hasActiveFilters) {\n        return await imageApi.searchImages({\n          ...filters,\n          page,\n          limit: 50,\n          sort: 'created_date',\n          order: 'DESC'\n        });\n      } else {\n        return await imageApi.getImages({\n          page,\n          limit: 50,\n          sort: 'created_date',\n          order: 'DESC',\n          status: 'completed'\n        });\n      }\n    }\n  });\n  const images = (data === null || data === void 0 ? void 0 : data.images) || [];\n\n  // Filter images client-side for better performance\n  const filteredImages = useMemo(() => {\n    if (isLoading) {\n      return [];\n    }\n    return images.filter(image => {\n      // Skip filtering if no filters active - show all images\n      if (!hasActiveFilters) {\n        return true;\n      }\n      // Text search\n      if (filters.query) {\n        const query = filters.query.toLowerCase();\n        const searchText = `${image.primary_subject} ${image.filename} ${image.notes} ${image.activity_tags.join(' ')}`.toLowerCase();\n        if (!searchText.includes(query)) return false;\n      }\n\n      // Visual quality filter\n      if (image.visual_quality < filters.visualQuality[0] || image.visual_quality > filters.visualQuality[1]) {\n        return false;\n      }\n\n      // People filters\n      if (filters.hasPeople !== undefined && image.has_people !== filters.hasPeople) {\n        return false;\n      }\n      if (filters.peopleCount.length > 0 && !filters.peopleCount.includes(image.people_count)) {\n        return false;\n      }\n\n      // Indoor/outdoor filter\n      if (filters.isIndoor !== undefined && image.is_indoor !== filters.isIndoor) {\n        return false;\n      }\n\n      // Activity tags filter\n      if (filters.activityTags.length > 0) {\n        const hasMatchingTag = filters.activityTags.some(tag => image.activity_tags.includes(tag));\n        if (!hasMatchingTag) return false;\n      }\n\n      // Season filter\n      if (filters.season.length > 0 && !filters.season.includes(image.season)) {\n        return false;\n      }\n\n      // Time of day filter\n      if (filters.timeOfDay.length > 0 && !filters.timeOfDay.includes(image.time_of_day)) {\n        return false;\n      }\n\n      // Social media score filter\n      if (image.social_media_score < filters.socialMediaScore[0] || image.social_media_score > filters.socialMediaScore[1]) {\n        return false;\n      }\n\n      // Marketing score filter\n      if (image.marketing_score < filters.marketingScore[0] || image.marketing_score > filters.marketingScore[1]) {\n        return false;\n      }\n      return true;\n    });\n  }, [images, filters, hasActiveFilters, isLoading]);\n\n  // Count active filters\n  const activeFilterCount = useMemo(() => {\n    let count = 0;\n    if (filters.query) count++;\n    if (filters.visualQuality[0] > 1 || filters.visualQuality[1] < 5) count++;\n    if (filters.hasPeople !== undefined) count++;\n    if (filters.peopleCount.length > 0) count++;\n    if (filters.isIndoor !== undefined) count++;\n    if (filters.activityTags.length > 0) count++;\n    if (filters.season.length > 0) count++;\n    if (filters.timeOfDay.length > 0) count++;\n    if (filters.socialMediaScore[0] > 1 || filters.socialMediaScore[1] < 5) count++;\n    if (filters.marketingScore[0] > 1 || filters.marketingScore[1] < 5) count++;\n    return count;\n  }, [filters]);\n  const handleFiltersChange = newFilters => {\n    setFilters(newFilters);\n    setPage(1); // Reset to first page when filters change\n  };\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-background flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl mb-2\",\n          children: \"Failed to load images\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-muted-foreground\",\n          children: \"Please check your connection and try again.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-background flex flex-col\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-primary text-primary-foreground p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-7xl mx-auto\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-2xl font-medium\",\n          children: \"Lost Valley Image Manager\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-primary-foreground/80 mt-1\",\n          children: \"Search and manage your processed permaculture image library\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SearchHeader, {\n      filters: filters,\n      onFiltersChange: handleFiltersChange,\n      onToggleFilters: () => setIsFiltersOpen(!isFiltersOpen),\n      isFiltersOpen: isFiltersOpen,\n      activeFilterCount: activeFilterCount,\n      viewMode: viewMode,\n      onViewModeChange: setViewMode,\n      resultCount: filteredImages.length\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 flex\",\n      children: [/*#__PURE__*/_jsxDEV(FilterPanel, {\n        filters: filters,\n        onFiltersChange: handleFiltersChange,\n        isOpen: isFiltersOpen,\n        onToggle: () => setIsFiltersOpen(!isFiltersOpen),\n        activeFilterCount: activeFilterCount\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 p-6\",\n        children: isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-center py-16\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-muted-foreground\",\n              children: \"Loading images...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 13\n        }, this) : filteredImages.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col items-center justify-center py-16 text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-6xl mb-4\",\n            children: \"\\uD83D\\uDD0D\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg mb-2\",\n            children: \"No images found\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-muted-foreground max-w-md\",\n            children: \"Try adjusting your search query or filters to find more images in your collection.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 13\n        }, this) : viewMode === 'grid' ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\",\n          children: filteredImages.map(image => /*#__PURE__*/_jsxDEV(ImageCard, {\n            image: image,\n            onClick: () => setSelectedImage(image)\n          }, image.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: filteredImages.map(image => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-4 p-4 border rounded-lg hover:bg-muted/50 cursor-pointer transition-colors\",\n            onClick: () => setSelectedImage(image),\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: image.drive_download_url || image.thumbnail_path,\n              alt: image.primary_subject,\n              className: \"w-24 h-24 object-cover rounded\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-1 space-y-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"font-medium\",\n                children: image.filename\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 257,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-muted-foreground line-clamp-2\",\n                children: image.primary_subject\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 258,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-4 text-xs text-muted-foreground\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [\"Quality: \", image.visual_quality, \"/5\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 262,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [\"Social: \", image.social_media_score, \"/5\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 263,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [\"Marketing: \", image.marketing_score, \"/5\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 264,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: image.has_people ? `${image.people_count} people` : 'No people'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 265,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: image.is_indoor ? 'Indoor' : 'Outdoor'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 266,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 261,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 19\n            }, this)]\n          }, image.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ImageDetailModal, {\n      image: selectedImage,\n      isOpen: !!selectedImage,\n      onClose: () => setSelectedImage(null)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 182,\n    columnNumber: 5\n  }, this);\n}\n_s(ImageApp, \"YJ7Ba/5/OqM03PNkROGcdpsClkQ=\", false, function () {\n  return [useQuery];\n});\n_c = ImageApp;\nexport default function App() {\n  return /*#__PURE__*/_jsxDEV(QueryClientProvider, {\n    client: queryClient,\n    children: [/*#__PURE__*/_jsxDEV(ImageApp, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Toaster, {\n      position: \"bottom-right\",\n      toastOptions: {\n        className: 'bg-background text-foreground border border-border'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 288,\n    columnNumber: 5\n  }, this);\n}\n_c2 = App;\nvar _c, _c2;\n$RefreshReg$(_c, \"ImageApp\");\n$RefreshReg$(_c2, \"App\");","map":{"version":3,"names":["React","useState","useMemo","QueryClient","QueryClientProvider","useQuery","Toaster","SearchHeader","FilterPanel","ImageCard","ImageDetailModal","imageApi","jsxDEV","_jsxDEV","queryClient","defaultOptions","queries","staleTime","gcTime","retry","refetchOnWindowFocus","initialFilters","query","visualQuality","hasPeople","undefined","peopleCount","isIndoor","activityTags","season","timeOfDay","socialMediaScore","marketingScore","ImageApp","_s","filters","setFilters","isFiltersOpen","setIsFiltersOpen","viewMode","setViewMode","selectedImage","setSelectedImage","page","setPage","hasActiveFilters","length","data","isLoading","error","queryKey","queryFn","searchImages","limit","sort","order","getImages","status","images","filteredImages","filter","image","toLowerCase","searchText","primary_subject","filename","notes","activity_tags","join","includes","visual_quality","has_people","people_count","is_indoor","hasMatchingTag","some","tag","time_of_day","social_media_score","marketing_score","activeFilterCount","count","handleFiltersChange","newFilters","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onFiltersChange","onToggleFilters","onViewModeChange","resultCount","isOpen","onToggle","map","onClick","id","src","drive_download_url","thumbnail_path","alt","onClose","_c","App","client","position","toastOptions","_c2","$RefreshReg$"],"sources":["/Users/jasonglaspey/Coding/Lost Valley - Image Management/web-app/client/src/App.tsx"],"sourcesContent":["import React, { useState, useMemo } from 'react';\nimport { QueryClient, QueryClientProvider, useQuery } from '@tanstack/react-query';\nimport { Toaster } from 'sonner';\nimport { SearchHeader } from './components/SearchHeader';\nimport { FilterPanel } from './components/FilterPanel';\nimport { ImageCard } from './components/ImageCard';\nimport { ImageDetailModal } from './components/ImageDetailModal';\nimport { SearchFilters, ProcessedImage } from './types/image';\nimport { imageApi } from './api/client';\nimport './App.css';\n\nconst queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      staleTime: 5 * 60 * 1000, // 5 minutes\n      gcTime: 10 * 60 * 1000, // 10 minutes\n      retry: 1,\n      refetchOnWindowFocus: false,\n    },\n  },\n});\n\nconst initialFilters: SearchFilters = {\n  query: '',\n  visualQuality: [1, 5],\n  hasPeople: undefined,\n  peopleCount: [],\n  isIndoor: undefined,\n  activityTags: [],\n  season: [],\n  timeOfDay: [],\n  socialMediaScore: [1, 5],\n  marketingScore: [1, 5]\n};\n\nfunction ImageApp() {\n  const [filters, setFilters] = useState<SearchFilters>(initialFilters);\n  const [isFiltersOpen, setIsFiltersOpen] = useState(false);\n  const [viewMode, setViewMode] = useState<'grid' | 'list'>('grid');\n  const [selectedImage, setSelectedImage] = useState<ProcessedImage | null>(null);\n  const [page, setPage] = useState(1);\n\n  // Check if we're using search or just listing\n  const hasActiveFilters = useMemo(() => {\n    return filters.query !== '' ||\n      filters.visualQuality[0] > 1 || filters.visualQuality[1] < 5 ||\n      filters.hasPeople !== undefined ||\n      filters.peopleCount.length > 0 ||\n      filters.isIndoor !== undefined ||\n      filters.activityTags.length > 0 ||\n      filters.season.length > 0 ||\n      filters.timeOfDay.length > 0 ||\n      filters.socialMediaScore[0] > 1 || filters.socialMediaScore[1] < 5 ||\n      filters.marketingScore[0] > 1 || filters.marketingScore[1] < 5;\n  }, [filters]);\n\n  // Query for images\n  const { data, isLoading, error } = useQuery({\n    queryKey: ['images', filters, page, hasActiveFilters],\n    queryFn: async () => {\n      if (hasActiveFilters) {\n        return await imageApi.searchImages({ \n          ...filters, \n          page, \n          limit: 50, \n          sort: 'created_date', \n          order: 'DESC' \n        });\n      } else {\n        return await imageApi.getImages({ \n          page, \n          limit: 50, \n          sort: 'created_date', \n          order: 'DESC',\n          status: 'completed'\n        });\n      }\n    },\n  });\n\n  const images = data?.images || [];\n\n  // Filter images client-side for better performance\n  const filteredImages = useMemo(() => {\n    if (isLoading) {\n      return [];\n    }\n    \n    return images.filter(image => {\n      // Skip filtering if no filters active - show all images\n      if (!hasActiveFilters) {\n        return true;\n      }\n      // Text search\n      if (filters.query) {\n        const query = filters.query.toLowerCase();\n        const searchText = `${image.primary_subject} ${image.filename} ${image.notes} ${image.activity_tags.join(' ')}`.toLowerCase();\n        if (!searchText.includes(query)) return false;\n      }\n\n      // Visual quality filter\n      if (image.visual_quality < filters.visualQuality[0] || image.visual_quality > filters.visualQuality[1]) {\n        return false;\n      }\n\n      // People filters\n      if (filters.hasPeople !== undefined && image.has_people !== filters.hasPeople) {\n        return false;\n      }\n      if (filters.peopleCount.length > 0 && !filters.peopleCount.includes(image.people_count)) {\n        return false;\n      }\n\n      // Indoor/outdoor filter\n      if (filters.isIndoor !== undefined && image.is_indoor !== filters.isIndoor) {\n        return false;\n      }\n\n      // Activity tags filter\n      if (filters.activityTags.length > 0) {\n        const hasMatchingTag = filters.activityTags.some(tag => image.activity_tags.includes(tag));\n        if (!hasMatchingTag) return false;\n      }\n\n      // Season filter\n      if (filters.season.length > 0 && !filters.season.includes(image.season)) {\n        return false;\n      }\n\n      // Time of day filter\n      if (filters.timeOfDay.length > 0 && !filters.timeOfDay.includes(image.time_of_day)) {\n        return false;\n      }\n\n      // Social media score filter\n      if (image.social_media_score < filters.socialMediaScore[0] || image.social_media_score > filters.socialMediaScore[1]) {\n        return false;\n      }\n\n      // Marketing score filter\n      if (image.marketing_score < filters.marketingScore[0] || image.marketing_score > filters.marketingScore[1]) {\n        return false;\n      }\n\n      return true;\n    });\n  }, [images, filters, hasActiveFilters, isLoading]);\n\n  // Count active filters\n  const activeFilterCount = useMemo(() => {\n    let count = 0;\n    if (filters.query) count++;\n    if (filters.visualQuality[0] > 1 || filters.visualQuality[1] < 5) count++;\n    if (filters.hasPeople !== undefined) count++;\n    if (filters.peopleCount.length > 0) count++;\n    if (filters.isIndoor !== undefined) count++;\n    if (filters.activityTags.length > 0) count++;\n    if (filters.season.length > 0) count++;\n    if (filters.timeOfDay.length > 0) count++;\n    if (filters.socialMediaScore[0] > 1 || filters.socialMediaScore[1] < 5) count++;\n    if (filters.marketingScore[0] > 1 || filters.marketingScore[1] < 5) count++;\n    return count;\n  }, [filters]);\n\n  const handleFiltersChange = (newFilters: SearchFilters) => {\n    setFilters(newFilters);\n    setPage(1); // Reset to first page when filters change\n  };\n\n  if (error) {\n    return (\n      <div className=\"min-h-screen bg-background flex items-center justify-center\">\n        <div className=\"text-center\">\n          <h2 className=\"text-xl mb-2\">Failed to load images</h2>\n          <p className=\"text-muted-foreground\">Please check your connection and try again.</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-background flex flex-col\">\n      {/* Header */}\n      <div className=\"bg-primary text-primary-foreground p-4\">\n        <div className=\"max-w-7xl mx-auto\">\n          <h1 className=\"text-2xl font-medium\">Lost Valley Image Manager</h1>\n          <p className=\"text-primary-foreground/80 mt-1\">\n            Search and manage your processed permaculture image library\n          </p>\n        </div>\n      </div>\n\n      {/* Search Header */}\n      <SearchHeader\n        filters={filters}\n        onFiltersChange={handleFiltersChange}\n        onToggleFilters={() => setIsFiltersOpen(!isFiltersOpen)}\n        isFiltersOpen={isFiltersOpen}\n        activeFilterCount={activeFilterCount}\n        viewMode={viewMode}\n        onViewModeChange={setViewMode}\n        resultCount={filteredImages.length}\n      />\n\n      {/* Main Content */}\n      <div className=\"flex-1 flex\">\n        {/* Filter Panel */}\n        <FilterPanel\n          filters={filters}\n          onFiltersChange={handleFiltersChange}\n          isOpen={isFiltersOpen}\n          onToggle={() => setIsFiltersOpen(!isFiltersOpen)}\n          activeFilterCount={activeFilterCount}\n        />\n\n        {/* Results Area */}\n        <div className=\"flex-1 p-6\">\n          {isLoading ? (\n            <div className=\"flex items-center justify-center py-16\">\n              <div className=\"text-center\">\n                <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4\"></div>\n                <p className=\"text-muted-foreground\">Loading images...</p>\n              </div>\n            </div>\n          ) : filteredImages.length === 0 ? (\n            <div className=\"flex flex-col items-center justify-center py-16 text-center\">\n              <div className=\"text-6xl mb-4\">🔍</div>\n              <h3 className=\"text-lg mb-2\">No images found</h3>\n              <p className=\"text-muted-foreground max-w-md\">\n                Try adjusting your search query or filters to find more images in your collection.\n              </p>\n            </div>\n          ) : viewMode === 'grid' ? (\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\">\n              {filteredImages.map((image) => (\n                <ImageCard\n                  key={image.id}\n                  image={image}\n                  onClick={() => setSelectedImage(image)}\n                />\n              ))}\n            </div>\n          ) : (\n            <div className=\"space-y-4\">\n              {filteredImages.map((image) => (\n                <div\n                  key={image.id}\n                  className=\"flex gap-4 p-4 border rounded-lg hover:bg-muted/50 cursor-pointer transition-colors\"\n                  onClick={() => setSelectedImage(image)}\n                >\n                  <img\n                    src={image.drive_download_url || image.thumbnail_path}\n                    alt={image.primary_subject}\n                    className=\"w-24 h-24 object-cover rounded\"\n                  />\n                  <div className=\"flex-1 space-y-2\">\n                    <h3 className=\"font-medium\">{image.filename}</h3>\n                    <p className=\"text-sm text-muted-foreground line-clamp-2\">\n                      {image.primary_subject}\n                    </p>\n                    <div className=\"flex items-center gap-4 text-xs text-muted-foreground\">\n                      <span>Quality: {image.visual_quality}/5</span>\n                      <span>Social: {image.social_media_score}/5</span>\n                      <span>Marketing: {image.marketing_score}/5</span>\n                      <span>{image.has_people ? `${image.people_count} people` : 'No people'}</span>\n                      <span>{image.is_indoor ? 'Indoor' : 'Outdoor'}</span>\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Image Detail Modal */}\n      <ImageDetailModal\n        image={selectedImage}\n        isOpen={!!selectedImage}\n        onClose={() => setSelectedImage(null)}\n      />\n    </div>\n  );\n}\n\nexport default function App() {\n  return (\n    <QueryClientProvider client={queryClient}>\n      <ImageApp />\n      <Toaster \n        position=\"bottom-right\"\n        toastOptions={{\n          className: 'bg-background text-foreground border border-border',\n        }}\n      />\n    </QueryClientProvider>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}